# LeadSearchParser - Быстрый старт

## Шаг 1: Установка зависимостей

Убедитесь, что у вас установлен .NET 8.0 SDK:
```bash
dotnet --version
```

Если .NET не установлен, скачайте его с: https://dotnet.microsoft.com/download

## Шаг 2: Сборка проекта

### Windows
Запустите `build.bat` или выполните в командной строке:
```bash
dotnet build LeadSearchParser.sln --configuration Release
```

### Linux/Mac
```bash
dotnet build LeadSearchParser.sln --configuration Release
```

## Шаг 3: Запуск

### Windows
```bash
run.bat
```

### Или напрямую
```bash
cd LeadSearchParser\bin\Release\net8.0
LeadSearchParser.exe
```

### Linux/Mac
```bash
cd LeadSearchParser/bin/Release/net8.0
./LeadSearchParser
```

## Шаг 4: Первый запуск

### Интерактивный режим
Просто запустите без параметров:
```bash
LeadSearchParser.exe
```

Программа попросит ввести:
- Поисковый запрос (например: "стеклянные перегородки")
- Количество результатов (по умолчанию: 30)
- Глубину обхода сайта (по умолчанию: 2)

### С параметрами
```bash
LeadSearchParser.exe -q "стеклянные перегородки" -r 30 -d 2
```

## Примеры использования

### 1. Базовый поиск (10 сайтов)
```bash
LeadSearchParser.exe -q "натяжные потолки" -r 10
```

### 2. Глубокий поиск (50 сайтов, глубина 3)
```bash
LeadSearchParser.exe -q "ремонт квартир" -r 50 -d 3
```

### 3. Пакетная обработка из файла
Создайте файл `queries.txt` с запросами (по одному на строке):
```
стеклянные перегородки
натяжные потолки
мебель на заказ
```

Запустите:
```bash
LeadSearchParser.exe -f queries.txt
```

### 4. Экспорт в CSV
```bash
LeadSearchParser.exe -q "окна пвх" -r 20 --format csv
```

### 5. С настройками производительности
```bash
LeadSearchParser.exe -q "кухни на заказ" -r 50 --threads 5 --delay 3
```

## Результаты

После завершения работы:
- **Результаты**: `D:\LeadSearchParser\Results\results_DDMMYYYY_HHMMSS.xlsx`
- **Логи**: `D:\LeadSearchParser\Logs\parser_DDMMYYYY.log`

## Структура результатов Excel

| № | Название сайта | URL | Email (все) | Телефон | VK | Telegram | WhatsApp | Instagram | Facebook | OK | YouTube | Дата парсинга | Статус |
|---|---------------|-----|-------------|---------|----|---------|---------|-----------|---------|----|---------|--------------|--------|

## Настройка

Отредактируйте `config.json` для изменения:
- Параметров по умолчанию
- Таймаутов и задержек
- Регулярных выражений для поиска контактов
- Папок для результатов и логов

## Решение проблем

### Нет результатов поиска
- Проверьте интернет-соединение
- Яндекс может блокировать запросы (попробуйте увеличить `--delay`)
- Используйте `--verbose` для детальной информации

### Мало найденных контактов
- Увеличьте глубину обхода: `--depth 3` или `--depth 4`
- Некоторые сайты могут использовать защиту от парсинга

### Программа зависает
- Уменьшите количество потоков: `--threads 2`
- Увеличьте таймаут: `--timeout 60`

### Ошибки доступа к файлам
- Закройте Excel файлы из папки Results
- Проверьте права доступа к папкам

## Полезные команды

### Показать справку
```bash
LeadSearchParser.exe --help
```

### Тестовый запуск (5 сайтов)
```bash
LeadSearchParser.exe -q "тест" -r 5 -d 1
```

### С подробным логированием
```bash
LeadSearchParser.exe -q "запрос" -r 20 --verbose
```

## Важные примечания

⚠️ **Соблюдайте этику парсинга:**
- Используйте разумные задержки между запросами
- Не создавайте чрезмерную нагрузку на сайты
- Соблюдайте законодательство о персональных данных

✅ **Рекомендуемые настройки:**
- Для тестирования: `-r 10 -d 2 --delay 2`
- Для работы: `-r 30 -d 3 --delay 3`
- Для массового сбора: `-r 50 -d 2 --delay 5 --threads 2`

## Поддержка

При возникновении проблем:
1. Проверьте логи в папке `Logs\`
2. Используйте флаг `--verbose`
3. Убедитесь в наличии всех зависимостей
4. Проверьте конфигурацию в `config.json`

---

**LeadSearchParser v1.0** - Эффективный сбор контактов из поиска!


